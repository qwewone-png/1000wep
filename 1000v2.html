<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì²œìë¬¸ ì‘ì„±ê¸° (ì‹­ì´ê°„ì§€ ë¬¸ì„œ ì„ íƒ)</title>
<style>
Â  :root {
Â  Â  Â  /* Light Mode (í•´â˜€ï¸) colors - ë°ê³  ì¾Œì²­í•œ ë‚® */
Â  Â  Â  --body-bg: #fafafa;
Â  Â  Â  --text-color: #333;
Â  Â  Â  --header-bg: #4a90e2;
Â  Â  Â  --header-text-color: white;
Â  Â  Â  --table-bg: white;
Â  Â  Â  --table-border: #bbb;
Â  Â  Â  --button-bg: #4a90e2;
Â  Â  Â  --button-hover-bg: #357abd;
Â  Â  Â  --delete-button-bg: #d9534f;
Â  Â  Â  --delete-button-hover-bg: #c9302c;
Â  Â  Â  --select-border: #ccc;
Â  Â  Â  --focus-outline: #4a90e2;
Â  Â  Â  --duplicate-color: red;
Â  Â  Â  --scroll-button-bg: rgba(74, 144, 226, 0.8);
Â  Â  Â  --scroll-button-hover-bg: #4a90e2;
Â  Â  Â  --modal-bg: rgba(0, 0, 0, 0.5);
Â  Â  Â  --modal-content-bg: white;
Â  Â  Â  --modal-content-border: #ddd;
Â  Â  Â  --hanja-list-bg: #e0e0e0;
Â  }
Â  body.slight-dark-mode {
Â  Â  Â  /* Slight Dark Mode (í•´êµ¬ë¦„â›…) colors - ì˜…ì€ êµ¬ë¦„ì´ ë‚€ ë‚®, ëˆˆì— í¸ì•ˆí•¨ */
Â  Â  Â  --body-bg: #e0e0e0;
Â  Â  Â  --text-color: #333;
Â  Â  Â  --header-bg: #4a90e2;
Â  Â  Â  --header-text-color: white;
Â  Â  Â  --table-bg: #f5f5f5;
Â  Â  Â  --table-border: #aaa;
Â  Â  Â  --button-bg: #4a90e2;
Â  Â  Â  --button-hover-bg: #357abd;
Â  Â  Â  --delete-button-bg: #d9534f;
Â  Â  Â  --delete-button-hover-bg: #c9302c;
Â  Â  Â  --select-border: #bbb;
Â  Â  Â  --focus-outline: #4a90e2;
Â  Â  Â  --duplicate-color: red;
Â  Â  Â  --scroll-button-bg: rgba(74, 144, 226, 0.8);
Â  Â  Â  --scroll-button-hover-bg: #4a90e2;
Â  Â  Â  --modal-bg: rgba(0, 0, 0, 0.5);
Â  Â  Â  --modal-content-bg: #f5f5f5;
Â  Â  Â  --modal-content-border: #ccc;
Â  Â  Â  --hanja-list-bg: #d0d0d0;
Â  }
Â  body.cloud-mode {
Â  Â  Â  /* Cloud Mode (êµ¬ë¦„â˜ï¸) colors - íë¦° ë‚ ì”¨, ì°¨ë¶„í•œ ì´ˆì €ë… */
Â  Â  Â  --body-bg: #3d3d3d;
Â  Â  Â  --text-color: #f0f0f0;
Â  Â  Â  --header-bg: #2d5d8b;
Â  Â  Â  --header-text-color: #f0f0f0;
Â  Â  Â  --table-bg: #4a4a4a;
Â  Â  Â  --table-border: #666;
Â  Â  Â  --button-bg: #666;
Â  Â  Â  --button-hover-bg: #777;
Â  Â  Â  --delete-button-bg: #d9534f;
Â  Â  Â  --delete-button-hover-bg: #c9302c;
Â  Â  Â  --select-border: #666;
Â  Â  Â  --focus-outline: #81c3e0;
Â  Â  Â  --duplicate-color: #ff8c8c;
Â  Â  Â  --scroll-button-bg: rgba(74, 144, 226, 0.8);
Â  Â  Â  --scroll-button-hover-bg: #4a90e2;
Â  Â  Â  --modal-bg: rgba(0, 0, 0, 0.7);
Â  Â  Â  --modal-content-bg: #4a4a4a;
Â  Â  Â  --modal-content-border: #666;
Â  Â  Â  --hanja-list-bg: #5a5a5a;
Â  }
Â  body.moon-mode {
Â  Â  Â  /* Moon Mode (ë³´ë¦„ë‹¬ğŸŒ•) colors - ë‹¬ì´ ëœ¬ ë°¤, ì–´ë‘ìš´ ë°°ê²½ */
Â  Â  Â  --body-bg: #222;
Â  Â  Â  --text-color: #e0e0e0;
Â  Â  Â  --header-bg: #2d5d8b;
Â  Â  Â  --header-text-color: #e0e0e0;
Â  Â  Â  --table-bg: #333;
Â  Â  Â  --table-border: #555;
Â  Â  Â  --button-bg: #555;
Â  Â  Â  --button-hover-bg: #666;
Â  Â  Â  --delete-button-bg: #a94442;
Â  Â  Â  --delete-button-hover-bg: #8c3b39;
Â  Â  Â  --select-border: #555;
Â  Â  Â  --focus-outline: #81c3e0;
Â  Â  Â  --duplicate-color: #ff6b6b;
Â  Â  Â  --scroll-button-bg: rgba(74, 144, 226, 0.8);
Â  Â  Â  --scroll-button-hover-bg: #4a90e2;
Â  Â  Â  --modal-bg: rgba(0, 0, 0, 0.7);
Â  Â  Â  --modal-content-bg: #333;
Â  Â  Â  --modal-content-border: #555;
Â  Â  Â  --hanja-list-bg: #444;
Â  }
Â  body.dark-mode {
Â  Â  Â  /* Dark Mode (ì´ˆìŠ¹ë‹¬ğŸŒ™) colors - ê°€ì¥ ì–´ë‘ìš´ ì‹¬ì•¼, ëˆˆì˜ í”¼ë¡œ ìµœì†Œí™” */
Â  Â  Â  --body-bg: #121212;
Â  Â  Â  --text-color: #e0e0e0;
Â  Â  Â  --header-bg: #333;
Â  Â  Â  --header-text-color: #e0e0e0;
Â  Â  Â  --table-bg: #222;
Â  Â  Â  --table-border: #444;
Â  Â  Â  --button-bg: #555;
Â  Â  Â  --button-hover-bg: #666;
Â  Â  Â  --delete-button-bg: #a94442;
Â  Â  Â  --delete-button-hover-bg: #8c3b39;
Â  Â  Â  --select-border: #555;
Â  Â  Â  --focus-outline: #81c3e0;
Â  Â  Â  --duplicate-color: #ff6b6b;
Â  Â  Â  --scroll-button-bg: rgba(74, 144, 226, 0.8);
Â  Â  Â  --scroll-button-hover-bg: #4a90e2;
Â  Â  Â  --modal-bg: rgba(0, 0, 0, 0.7);
Â  Â  Â  --modal-content-bg: #333;
Â  Â  Â  --modal-content-border: #555;
Â  Â  Â  --hanja-list-bg: #333;
Â  }
Â  body {
Â  Â  font-family: "Noto Sans KR", sans-serif;
Â  Â  margin: 20px;
Â  Â  background: var(--body-bg);
Â  Â  color: var(--text-color);
Â  Â  transition: background-color 0.3s, color 0.3s;
Â  }
Â  #docControls {
Â  Â  margin-bottom: 20px;
Â  Â  display: flex;
Â  Â  justify-content: flex-start;
Â  Â  align-items: center;
Â  }
Â  #docControls label, #docControls select, #docControls button {
Â  Â  vertical-align: middle;
Â  Â  font-size: 15px;
Â  }
Â  #docControls select {
Â  Â  width: 260px;
Â  Â  padding: 6px 8px;
Â  Â  margin-right: 10px;
Â  Â  border: 1px solid var(--select-border);
Â  Â  border-radius: 4px;
Â  Â  background: var(--table-bg);
Â  Â  color: var(--text-color);
Â  }
Â  #docControls .left-controls {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  }
Â  #docControls button.action-button {
Â  Â  padding: 6px 14px;
Â  Â  border-radius: 4px;
Â  Â  border: none;
Â  Â  background-color: var(--button-bg);
Â  Â  color: var(--header-text-color);
Â  Â  cursor: pointer;
Â  Â  margin-right: 8px;
Â  }
Â  #docControls button.action-button:hover {
Â  Â  background-color: var(--button-hover-bg);
Â  }
Â  #themeToggleBtn {
Â  Â  Â  font-size: 24px;
Â  Â  Â  line-height: 1;
Â  Â  Â  font-weight: bold;
Â  }
Â  table {
Â  Â  width: 100%;
Â  Â  border-collapse: collapse;
Â  Â  table-layout: fixed;
Â  Â  background: var(--table-bg);
Â  Â  box-shadow: 0 0 5px rgba(0,0,0,0.1);
Â  }
Â  th, td {
Â  Â  border: 1px solid var(--table-border);
Â  Â  padding: 8px;
Â  Â  text-align: center;
Â  Â  vertical-align: middle;
Â  Â  word-break: break-word;
Â  }
Â  th {
Â  Â  background-color: var(--header-bg);
Â  Â  color: var(--header-text-color);
Â  Â  user-select: none;
Â  }
Â  td.hanja-cell {
Â  Â  font-size: 22px;
Â  Â  cursor: text;
Â  Â  user-select: text;
Â  Â  min-height: 28px;
Â  Â  padding: 6px;
Â  }
Â  td.hanja-cell span.duplicate {
Â  Â  color: var(--duplicate-color);
Â  Â  font-weight: 700;
Â  }
Â  .reading-editable, .desc-editable, .hanja-editable {
Â  Â  width: 100%;
Â  Â  border: none;
Â  Â  padding: 6px;
Â  Â  box-sizing: border-box;
Â  Â  min-height: 28px;
Â  Â  outline: none;
Â  Â  cursor: text;
Â  Â  white-space: pre-wrap;
Â  Â  text-align: left;
Â  Â  color: var(--text-color);
Â  Â  background: transparent;
Â  }
Â  .reading-editable {
Â  Â  font-size: 22px;
Â  Â  text-align: center;
Â  }
Â  .desc-editable {
Â  Â  font-size: 16px;
Â  }
Â  .hanja-editable {
Â  Â  font-size: 22px;
Â  Â  text-align: center;
Â  }
Â  .active-cell {
Â  Â  box-shadow: 0 0 0 2px var(--focus-outline);
Â  Â  border-color: var(--focus-outline);
Â  }
Â  button.row-delete-btn {
Â  Â  background-color: var(--delete-button-bg);
Â  Â  border: none;
Â  Â  color: white;
Â  Â  font-weight: bold;
Â  Â  cursor: pointer;
Â  Â  border-radius: 4px;
Â  Â  padding: 5px 10px;
Â  }
Â  button.row-delete-btn:hover {
Â  Â  background-color: var(--delete-button-hover-bg);
Â  }
Â  .row-number {
Â  Â  font-size: 14px;
Â  Â  font-weight: bold;
Â  Â  color: #666;
Â  }
Â  body.dark-mode .row-number, body.moon-mode .row-number, body.cloud-mode .row-number {
Â  Â  color: #aaa;
Â  }
Â  body.slight-dark-mode .row-number {
Â  Â  Â  color: #666;
Â  }
Â  .scroll-buttons {
Â  Â  position: fixed;
Â  Â  right: 20px;
Â  Â  bottom: 20px;
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  gap: 10px;
Â  Â  z-index: 100;
Â  }
Â  .scroll-buttons button {
Â  Â  background-color: var(--scroll-button-bg);
Â  Â  color: white;
Â  Â  border: none;
Â  Â  border-radius: 5px;
Â  Â  padding: 8px;
Â  Â  cursor: pointer;
Â  Â  opacity: 0.7;
Â  Â  transition: opacity 0.3s ease;
Â  }
Â  .scroll-buttons button:hover {
Â  Â  opacity: 1;
Â  }
Â  .scroll-buttons button svg {
Â  Â  width: 24px;
Â  Â  height: 24px;
Â  Â  display: block;
Â  }
Â  /* Modal styles */
Â  .modal {
Â  Â  Â  display: none;
Â  Â  Â  position: fixed;
Â  Â  Â  z-index: 200;
Â  Â  Â  left: 0;
Â  Â  Â  top: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  overflow: auto;
Â  Â  Â  background-color: var(--modal-bg);
Â  }
Â  .modal-content {
Â  Â  Â  background-color: var(--modal-content-bg);
Â  Â  Â  color: var(--text-color);
Â  Â  Â  padding: 20px;
Â  Â  Â  border: 1px solid var(--modal-content-border);
Â  Â  Â  width: 80%;
Â  Â  Â  max-width: 600px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  position: fixed;
Â  Â  Â  top: 50%;
Â  Â  Â  left: 50%;
Â  Â  Â  transform: translate(-50%, -50%);
Â  }
Â  .close-button {
Â  Â  Â  color: var(--text-color);
Â  Â  Â  float: right;
Â  Â  Â  font-size: 28px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  position: absolute;
Â  Â  Â  top: 10px;
Â  Â  Â  right: 20px;
Â  }
Â  .close-button:hover,
Â  .close-button:focus {
Â  Â  Â  color: var(--delete-button-bg);
Â  Â  Â  text-decoration: none;
Â  Â  Â  cursor: pointer;
Â  }
Â  .modal-content h3 {
Â  Â  Â  border-bottom: 2px solid var(--table-border);
Â  Â  Â  padding-bottom: 5px;
Â  }
Â  .modal-content ul {
Â  Â  Â  list-style-type: disc;
Â  Â  Â  padding-left: 20px;
Â  }
Â  .modal-content li {
Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  line-height: 1.5;
Â  }
Â  #hanjaListContainer {
Â  Â  Â  margin-top: 40px;
Â  Â  Â  padding: 20px;
Â  Â  Â  background-color: var(--hanja-list-bg);
Â  Â  Â  border-radius: 8px;
Â  Â  Â  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
Â  }
Â  #hanjaListContainer h2 {
Â  Â  Â  margin-top: 0;
Â  Â  Â  padding-bottom: 10px;
Â  Â  Â  border-bottom: 2px solid var(--table-border);
Â  }
Â  #hanjaList {
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  font-size: 20px;
Â  Â  Â  line-height: 2.0;
Â  }
Â  #hanjaList span {
Â  Â  Â  margin: 0 6px;
Â  Â  Â  transition: color 0.3s ease;
Â  }
Â  #hanjaList span.used {
Â  Â  Â  color: var(--duplicate-color);
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-shadow: 0 0 2px rgba(255, 0, 0, 0.5);
Â  }
</style>
</head>
<body>

<div id="docControls">
Â  <div class="left-controls">
Â  Â  <label for="docSelect">ë¬¸ì„œ ì„ íƒ:</label>
Â  Â  <select id="docSelect">
Â  Â  Â  <option value="doc_ì">ì(å­)</option>
Â  Â  Â  <option value="doc_ì¶•">ì¶•(ä¸‘)</option>
Â  Â  Â  <option value="doc_ì¸">ì¸(å¯…)</option>
Â  Â  Â  <option value="doc_ë¬˜">ë¬˜(å¯)</option>
Â  Â  Â  <option value="doc_ì§„">ì§„(è¾°)</option>
Â  Â  Â  <option value="doc_ì‚¬">ì‚¬(å·³)</option>
Â  Â  Â  <option value="doc_ì˜¤">ì˜¤(åˆ)</option>
Â  Â  Â  <option value="doc_ë¯¸">ë¯¸(æœª)</option>
Â  Â  Â  <option value="doc_ì‹ ">ì‹ (ç”³)</option>
Â  Â  Â  <option value="doc_ìœ ">ìœ (é…‰)</option>
Â  Â  Â  <option value="doc_ìˆ ">ìˆ (æˆŒ)</option>
Â  Â  Â  <option value="doc_í•´">í•´(äº¥)</option>
Â  Â  </select>
Â  Â  <button id="btnLoad" class="action-button">ë¶ˆëŸ¬ì˜¤ê¸°</button>
Â  Â  <button id="btnExport" class="action-button">ë‚´ë³´ë‚´ê¸°</button>
Â  Â  <button id="btnInfo" class="action-button">ì„¤ëª…</button>
Â  </div>
</div>

<table id="tableCheonjamun" cellspacing="0" cellpadding="0">
Â  <thead>
Â  Â  <tr>
Â  Â  Â  <th style="width:3%;">ìˆœë²ˆ</th>
Â  Â  Â  <th style="width:18%;">í•œì</th>
Â  Â  Â  <th style="width:18%;">ìŒí›ˆ</th>
Â  Â  Â  <th style="width:auto;">í•´ì„¤</th>
Â  Â  Â  <th style="width:8%;">ì¤„ ì‚­ì œ</th>
Â  Â  </tr>
Â  </thead>
Â  <tbody>
Â  </tbody>
</table>

<div class="scroll-buttons">
Â  <button id="themeToggleBtn" title="í…Œë§ˆ ì „í™˜">â˜€ï¸</button>
Â  <button id="scrollTopBtn" title="ë§¨ ìœ„ë¡œ"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg></button>
Â  <button id="scrollBottomBtn" title="ë§¨ ì•„ë˜ë¡œ"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/></svg></button>
</div>

<div id="hanjaListContainer">
Â  <h2>ì‚¬ìš©ëœ í•œì ëª©ë¡</h2>
Â  <div id="hanjaList"></div>
</div>

<div id="infoModal" class="modal">
Â  <div class="modal-content">
Â  Â  <span class="close-button">&times;</span>
Â  Â  <h2>ì‚¬ìš© ë°©ë²• ì•ˆë‚´</h2>
Â  Â  <p>ì´ ì›¹ ë„êµ¬ëŠ” ì²œìë¬¸ì„ ì‘ì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.</p>
Â  Â Â 
Â  Â  <h3>ë¬¸ì„œ ì„ íƒ ë° ë¶ˆëŸ¬ì˜¤ê¸°</h3>
Â  Â  <ul>
Â  Â  Â  <li>ì²˜ìŒ í˜ì´ì§€ë¥¼ ì—´ë©´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‘ì—…í–ˆë˜ ë¬¸ì„œê°€ ìë™ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤.</li>
Â  Â  Â  <li>ë‹¤ë¥¸ ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´, ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” **ë¬¸ì„œë¥¼ ì„ íƒ**í•œ í›„ **[ë¶ˆëŸ¬ì˜¤ê¸°]** ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</li>
Â  Â  Â  <li>ë¬¸ì„œê°€ ì—†ì„ ê²½ìš° ìƒˆ ë¬¸ì„œë¥¼ ë§Œë“¤ì§€ ë¬»ëŠ” ì°½ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</li>
Â  Â  </ul>

Â  Â  <h3>ì‘ì„± ë° ìˆ˜ì •</h3>
Â  Â  <ul>
Â  Â  Â  <li>í…Œì´ë¸”ì˜ ê° ì¹¸ì„ í´ë¦­í•˜ì—¬ ë‚´ìš©ì„ ì…ë ¥í•˜ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
Â  Â  Â  <li>í•œì ì¹¸ì— 4ê¸€ìë¥¼ ì…ë ¥í•˜ê³  **Enter**ë¥¼ ëˆ„ë¥´ê±°ë‚˜, ë‹¤ë¥¸ ê³³ì„ **ë§ˆìš°ìŠ¤ë¡œ í´ë¦­**í•˜ë©´ ìë™ìœ¼ë¡œ ìƒˆ ì¤„ì´ ì¶”ê°€ë©ë‹ˆë‹¤.</li>
Â  Â  </ul>
Â  Â Â 
Â  Â  <h3>ì¤‘ë³µ í•œì í™•ì¸</h3>
Â  Â  <ul>
Â  Â  Â  <li>ì‘ì„±ëœ í•œìë“¤ ì¤‘ì— **ì¤‘ë³µëœ í•œì**ëŠ” ìë™ìœ¼ë¡œ **ë¶‰ì€ìƒ‰**ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</li>
Â  Â  Â  <li>**í•˜ë‹¨ì— ìˆëŠ” í•œì ëª©ë¡**ì—ì„œë„ ì‚¬ìš©ëœ í•œìê°€ ìë™ìœ¼ë¡œ **ë¶‰ì€ìƒ‰**ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.</li>
Â  Â  Â  <li>ì¤‘ë³µ ì²´í¬ëŠ” í•œì ì¹¸ì˜ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆ ì¤„ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.</li>
Â  Â  </ul>
Â  Â Â 
Â  Â  <h3>ê¸°íƒ€ ê¸°ëŠ¥</h3>
Â  Â  <ul>
Â  Â  Â  <li>ì˜¤ë¥¸ìª½ ì•„ë˜ì˜ **í…Œë§ˆ ì „í™˜ ë²„íŠ¼**ì„ ëˆŒëŸ¬ ì´ 5ë‹¨ê³„ì˜ í…Œë§ˆë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Â  Â  Â  Â  <br>â˜€ï¸ (ë°ì€ ë‚®) â†’ â›… (íë¦° ë‚®) â†’ â˜ï¸ (ì´ˆì €ë…) â†’ ğŸŒ• (ë°¤) â†’ ğŸŒ™ (ì‹¬ì•¼)
Â  Â  Â  </li>
Â  Â  Â  <li>ê° ì¤„ì˜ **[ì§€ìš°ê¸°]** ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ì¤„ì´ ì‚­ì œë©ë‹ˆë‹¤.</li>
Â  Â  Â  <li>ì˜¤ë¥¸ìª½ ì•„ë˜ì˜ **ìŠ¤í¬ë¡¤ ë²„íŠ¼**ì„ ì´ìš©í•´ í˜ì´ì§€ ë§¨ ìœ„/ì•„ë˜ë¡œ ë¹ ë¥´ê²Œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
Â  Â  Â  <li>**[ë‚´ë³´ë‚´ê¸°]** ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í˜„ì¬ ë¬¸ì„œì˜ ë‚´ìš©ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì–´ ì—‘ì…€ ë“±ì— ë¶™ì—¬ë„£ê¸° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
Â  Â  Â  <li>ë°ì´í„° ì €ì¥: ë¬¸ì„œ ë‚´ìš©ì€ ì‚¬ìš©ìì˜ ì»´í“¨í„° ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤. ì»´í“¨í„°ë¥¼ í¬ë§·í•˜ê±°ë‚˜ ë¸Œë¼ìš°ì € ìºì‹œë¥¼ ì‚­ì œí•˜ì§€ ì•ŠëŠ” í•œ ë°ì´í„°ê°€ ìœ ì§€ë©ë‹ˆë‹¤. ì¤‘ìš”í•œ ìë£ŒëŠ” **[ë‚´ë³´ë‚´ê¸°]** ê¸°ëŠ¥ì„ ì´ìš©í•´ ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</li>
Â  Â  </ul>
Â  </div>
</div>

<script>
(() => {
Â  const tbody = document.querySelector('#tableCheonjamun tbody');
Â  const docSelect = document.getElementById('docSelect');
Â  const btnLoad = document.getElementById('btnLoad');
Â  const btnExport = document.getElementById('btnExport');
Â  const btnInfo = document.getElementById('btnInfo');
Â  const infoModal = document.getElementById('infoModal');
Â  const closeButton = infoModal.querySelector('.close-button');
Â  const scrollTopBtn = document.getElementById('scrollTopBtn');
Â  const scrollBottomBtn = document.getElementById('scrollBottomBtn');
Â  const themeToggleBtn = document.getElementById('themeToggleBtn');
Â  const hanjaListDiv = document.getElementById('hanjaList');
Â Â 
Â  const hanja_100_chars = "å¤©ç„åœ°é»ƒå®‡å®™æ´ªè’æ—¥æœˆç›ˆæ˜ƒè¾°å®¿åˆ—å¼µå¯’ä¾†æš‘å¾€ç§‹æ”¶å†¬è—é–é¤˜æˆæ­²å¾‹å‘‚èª¿é™½é›²é¨°è‡´é›¨éœ²çµç‚ºéœœé‡‘ç”Ÿéº—æ°´ç‰å‡ºå´‘å²¡åŠè™Ÿå·¨é—•ç ç¨±å¤œå…‰æœçææŸ°èœé‡èŠ¥è–‘æµ·é¹¹æ²³æ·¡é±—æ½›ç¾½ç¿”é¾å¸«ç«å¸é³¥å®˜äººçš‡å§‹åˆ¶æ–‡å­—ä¹ƒæœè¡£è£³æ¨ä½è®“åœ‹æœ‰è™é™¶å”";

Â  // í…Œë§ˆ ìƒíƒœ ë° ì„¤ì •
Â  const themes = [
Â  Â  { name: 'light', icon: 'â˜€ï¸', class: '' },
Â  Â  { name: 'slight-dark', icon: 'â›…', class: 'slight-dark-mode' },
Â  Â  { name: 'cloud', icon: 'â˜ï¸', class: 'cloud-mode' },
Â  Â  { name: 'moon', icon: 'ğŸŒ•', class: 'moon-mode' },
Â  Â  { name: 'dark', icon: 'ğŸŒ™', class: 'dark-mode' }
Â  ];

Â  function applyTheme(themeName) {
Â  Â  const theme = themes.find(t => t.name === themeName);
Â  Â  document.body.className = '';
Â  Â  if (theme.class) {
Â  Â  Â  document.body.classList.add(theme.class);
Â  Â  }
Â  Â  themeToggleBtn.textContent = theme.icon;
Â  Â  themeToggleBtn.title = `í…Œë§ˆ ì „í™˜: ${theme.name} ëª¨ë“œ`;
Â  Â  localStorage.setItem('theme', theme.name);
Â  }

Â  // ì´ˆê¸° í…Œë§ˆ ë¡œë“œ
Â  const savedTheme = localStorage.getItem('theme') || 'light';
Â  applyTheme(savedTheme);

Â  // Theme toggle button click event
Â  themeToggleBtn.addEventListener('click', () => {
Â  Â  const currentTheme = localStorage.getItem('theme') || 'light';
Â  Â  const currentIndex = themes.findIndex(t => t.name === currentTheme);
Â  Â  const nextIndex = (currentIndex + 1) % themes.length;
Â  Â  applyTheme(themes[nextIndex].name);
Â  });

Â  // ì¤‘ë³µ í•œì ì²´í¬ & ë¹¨ê°„ìƒ‰ í‘œì‹œ
Â  function highlightDuplicates() {
Â  Â  const counts = {};
Â  Â  const editableDivs = [...tbody.querySelectorAll('div.hanja-editable')];
Â  Â Â 
Â  Â  const rowsToCount = editableDivs.slice(0, -1);

Â  Â  rowsToCount.forEach(div => {
Â  Â  Â  const text = div.textContent.trim();
Â  Â  Â  for (const ch of text) {
Â  Â  Â  Â  if(ch !== '') {
Â  Â  Â  Â  Â  counts[ch] = (counts[ch] || 0) + 1;
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  });

Â  Â  // í…Œì´ë¸” ë‚´ ì¤‘ë³µ í•œì ê°•ì¡°
Â  Â  editableDivs.forEach(div => {
Â  Â  Â  const text = div.textContent.trim();
Â  Â  Â  div.innerHTML = '';
Â  Â  Â  for (const ch of text) {
Â  Â  Â  Â  const span = document.createElement('span');
Â  Â  Â  Â  span.textContent = ch;
Â  Â  Â  Â  if(counts[ch] > 1) {
Â  Â  Â  Â  Â  span.classList.add('duplicate');
Â  Â  Â  Â  }
Â  Â  Â  Â  div.appendChild(span);
Â  Â  Â  }
Â  Â  Â  if(text.length === 0) div.innerHTML = '<br>';
Â  Â  });

Â  Â  // í•˜ë‹¨ í•œì ëª©ë¡ ì‚¬ìš© ì—¬ë¶€ ê°•ì¡°
Â  Â  const hanjaListSpans = hanjaListDiv.querySelectorAll('span');
Â  Â  const usedHanja = new Set(Object.keys(counts));
Â  Â  hanjaListSpans.forEach(span => {
Â  Â  Â  if(usedHanja.has(span.textContent)) {
Â  Â  Â  Â  span.classList.add('used');
Â  Â  Â  } else {
Â  Â  Â  Â  span.classList.remove('used');
Â  Â  Â  }
Â  Â  });
Â  }
Â  // ìˆœë²ˆ ì—…ë°ì´íŠ¸
Â  function updateRowNumbers() {
Â  Â  Â  const rows = tbody.querySelectorAll('tr:not(.blank-row)');
Â  Â  Â  rows.forEach((row, index) => {
Â  Â  Â  Â  Â  let numberCell = row.querySelector('.row-number');
Â  Â  Â  Â  Â  if (!numberCell) {
Â  Â  Â  Â  Â  Â  Â  const td = document.createElement('td');
Â  Â  Â  Â  Â  Â  Â  td.classList.add('row-number');
Â  Â  Â  Â  Â  Â  Â  row.prepend(td);
Â  Â  Â  Â  Â  Â  Â  numberCell = td;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  numberCell.textContent = index + 1;
Â  Â  Â  });
Â  }
Â Â 
Â  // ìƒˆë¡œìš´ í–‰ ì¶”ê°€ (ë¹ˆ ì¤„ ì œì™¸)
Â  function addRow(hanja='', reading='', desc='') {
Â  Â  const tr = document.createElement('tr');

Â  Â  const tdNumber = document.createElement('td');
Â  Â  tdNumber.classList.add('row-number');
Â  Â  tdNumber.textContent = '';
Â  Â Â 
Â  Â  const tdHanja = document.createElement('td');
Â  Â  tdHanja.classList.add('hanja-cell');
Â  Â  const hanjaDiv = document.createElement('div');
Â  Â  hanjaDiv.classList.add('hanja-editable');
Â  Â  hanjaDiv.contentEditable = 'true';
Â  Â  hanjaDiv.spellcheck = false;
Â  Â  hanjaDiv.textContent = hanja;
Â  Â  tdHanja.appendChild(hanjaDiv);
Â  Â Â 
Â  Â  const tdReading = document.createElement('td');
Â  Â  const readingDiv = document.createElement('div');
Â  Â  readingDiv.classList.add('reading-editable');
Â  Â  readingDiv.contentEditable = 'true';
Â  Â  readingDiv.spellcheck = false;
Â  Â  readingDiv.textContent = reading;
Â  Â  tdReading.appendChild(readingDiv);
Â  Â Â 
Â  Â  const tdDesc = document.createElement('td');
Â  Â  const descDiv = document.createElement('div');
Â  Â  descDiv.classList.add('desc-editable');
Â  Â  descDiv.contentEditable = 'true';
Â  Â  descDiv.spellcheck = false;
Â  Â  descDiv.textContent = desc;
Â  Â  tdDesc.appendChild(descDiv);
Â  Â Â 
Â  Â  const tdDel = document.createElement('td');
Â  Â  const btnDel = document.createElement('button');
Â  Â  btnDel.textContent = 'ì§€ìš°ê¸°';
Â  Â  btnDel.classList.add('row-delete-btn');
Â  Â  tdDel.appendChild(btnDel);

Â  Â  tr.appendChild(tdNumber);
Â  Â  tr.appendChild(tdHanja);
Â  Â  tr.appendChild(tdReading);
Â  Â  tr.appendChild(tdDesc);
Â  Â  tr.appendChild(tdDel);

Â  Â  tbody.appendChild(tr);
Â  }

Â  // ë¹ˆ ì…ë ¥ ì¤„ ìƒì„±
Â  function addBlankRow() {
Â  Â  const tr = document.createElement('tr');
Â  Â  tr.classList.add('blank-row');

Â  Â  const tdNumber = document.createElement('td');
Â  Â  tdNumber.classList.add('row-number');
Â  Â Â 
Â  Â  const tdHanja = document.createElement('td');
Â  Â  tdHanja.classList.add('hanja-cell');
Â  Â  const hanjaDiv = document.createElement('div');
Â  Â  hanjaDiv.classList.add('hanja-editable');
Â  Â  hanjaDiv.contentEditable = 'true';
Â  Â  hanjaDiv.spellcheck = false;
Â  Â  tdHanja.appendChild(hanjaDiv);
Â  Â Â 
Â  Â  const tdReading = document.createElement('td');
Â  Â  const readingDiv = document.createElement('div');
Â  Â  readingDiv.classList.add('reading-editable');
Â  Â  readingDiv.contentEditable = 'true';
Â  Â  readingDiv.spellcheck = false;
Â  Â  tdReading.appendChild(readingDiv);
Â  Â Â 
Â  Â  const tdDesc = document.createElement('td');
Â  Â  const descDiv = document.createElement('div');
Â  Â  descDiv.classList.add('desc-editable');
Â  Â  descDiv.contentEditable = 'true';
Â  Â  descDiv.spellcheck = false;
Â  Â  tdDesc.appendChild(descDiv);
Â  Â Â 
Â  Â  const tdDel = document.createElement('td');
Â  Â Â 
Â  Â  tr.appendChild(tdNumber);
Â  Â  tr.appendChild(tdHanja);
Â  Â  tr.appendChild(tdReading);
Â  Â  tr.appendChild(tdDesc);
Â  Â  tr.appendChild(tdDel);

Â  Â  tbody.appendChild(tr);
Â  Â  hanjaDiv.focus();
Â  }

Â  // í…Œì´ë¸” ë°ì´í„° ê°ì²´ë¡œ ì¶”ì¶œ
Â  function getData() {
Â  Â  const data = [];
Â  Â  const rows = [...tbody.children].slice(0, -1);
Â  Â  rows.forEach(tr => {
Â  Â  Â  const hanjaDiv = tr.querySelector('div.hanja-editable');
Â  Â  Â  const readingDiv = tr.querySelector('div.reading-editable');
Â  Â  Â  const descDiv = tr.querySelector('div.desc-editable');
Â  Â  Â  data.push({
Â  Â  Â  Â  hanja: hanjaDiv.textContent.trim(),
Â  Â  Â  Â  reading: readingDiv.textContent.trim(),
Â  Â  Â  Â  desc: descDiv.textContent.trim()
Â  Â  Â  });
Â  Â  });
Â  Â  return data;
Â  }

Â  // ë°ì´í„°ë¡œ í…Œì´ë¸” ì´ˆê¸°í™”
Â  function setData(data) {
Â  Â  tbody.innerHTML = '';
Â  Â  data.forEach(row => {
Â  Â  Â  addRow(row.hanja || '', row.reading || '', row.desc || '');
Â  Â  });
Â  Â  addBlankRow();
Â  Â  highlightDuplicates();
Â  Â  updateRowNumbers();
Â  Â  updateDocSelectOptions();
Â  }

Â  // ì €ì¥ - ìë™ ì €ì¥ í•¨ìˆ˜
Â  function autoSave() {
Â  Â  const key = docSelect.value;
Â  Â  const data = getData();
Â  Â  localStorage.setItem(key, JSON.stringify(data));
Â  Â  updateDocSelectOptions();
Â  }
Â Â 
Â  // ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì˜ ì¤„ ìˆ˜ í‘œì‹œ ì—…ë°ì´íŠ¸
Â  function updateDocSelectOptions() {
Â  Â  Â  const options = docSelect.options;
Â  Â  Â  for (let i = 0; i < options.length; i++) {
Â  Â  Â  Â  Â  const option = options[i];
Â  Â  Â  Â  Â  const key = option.value;
Â  Â  Â  Â  Â  const dataStr = localStorage.getItem(key);
Â  Â  Â  Â  Â  let count = 0;
Â  Â  Â  Â  Â  if (dataStr) {
Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(dataStr);
Â  Â  Â  Â  Â  Â  Â  Â  Â  count = data.length;
Â  Â  Â  Â  Â  Â  Â  } catch(e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  count = 0;
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  const originalText = option.getAttribute('data-original-text') || option.text.split(' - ')[0];
Â  Â  Â  Â  Â  option.setAttribute('data-original-text', originalText);
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if (count === 0) {
Â  Â  Â  Â  Â  Â  Â  option.text = `${originalText} - ë¬¸ì„œ ì—†ìŒ`;
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  option.text = `${originalText} - ì´ ${count}ì¤„ ê¸°ë¡`;
Â  Â  Â  Â  Â  }
Â  Â  Â  }
Â  }

Â  // ë¬¸ì„œ ë¶ˆëŸ¬ì˜¤ê¸° (ë²„íŠ¼ í´ë¦­ ì‹œ)
Â  function loadDoc() {
Â  Â  Â  const key = docSelect.value;
Â  Â  Â  const dataStr = localStorage.getItem(key);
Â  Â  Â  if(!dataStr) {
Â  Â  Â  Â  Â  if(confirm(`${docSelect.options[docSelect.selectedIndex].getAttribute('data-original-text')} ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤. ìƒˆ ë¬¸ì„œë¥¼ ë§Œë“œì‹œê² ìŠµë‹ˆê¹Œ?`)) {
Â  Â  Â  Â  Â  Â  Â  setData([]);
Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(key, JSON.stringify([])); // ë¹ˆ ë¬¸ì„œ ì €ì¥
Â  Â  Â  Â  Â  Â  Â  alert(`${docSelect.options[docSelect.selectedIndex].getAttribute('data-original-text')} ë¬¸ì„œë¥¼ ìƒˆë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.`);
Â  Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(dataStr);
Â  Â  Â  Â  Â  Â  Â  setData(data);
Â  Â  Â  Â  Â  Â  Â  alert(`${docSelect.options[docSelect.selectedIndex].getAttribute('data-original-text')} ë¬¸ì„œë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.`);
Â  Â  Â  Â  Â  } catch(e) {
Â  Â  Â  Â  Â  Â  Â  alert('ë¬¸ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
Â  Â  Â  Â  Â  Â  Â  setData([]);
Â  Â  Â  Â  Â  Â  Â  localStorage.setItem(key, JSON.stringify([])); // ì˜¤ë¥˜ ì‹œ ë¹ˆ ë¬¸ì„œë¡œ ì´ˆê¸°í™”
Â  Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â  localStorage.setItem('lastActiveDocId', key); // ë¶ˆëŸ¬ì˜¨ ë¬¸ì„œë¥¼ ë§ˆì§€ë§‰ìœ¼ë¡œ í¸ì§‘í•œ ë¬¸ì„œë¡œ ì„¤ì •
Â  }
Â Â 
Â  // ë¬¸ì„œ ë¶ˆëŸ¬ì˜¤ê¸° (ì´ˆê¸° ë¡œë“œìš©, ì•Œë¦¼ ì—†ìŒ)
Â  function initialLoadDoc() {
Â  Â  Â  const lastActiveDocId = localStorage.getItem('lastActiveDocId') || 'doc_ì';
Â  Â  Â  docSelect.value = lastActiveDocId;
Â  Â  Â  const dataStr = localStorage.getItem(lastActiveDocId);
Â  Â  Â  if (dataStr) {
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(dataStr);
Â  Â  Â  Â  Â  Â  Â  setData(data);
Â  Â  Â  Â  Â  } catch(e) {
Â  Â  Â  Â  Â  Â  Â  setData([]);
Â  Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  Â  setData([]);
Â  Â  Â  }
Â  Â  Â  updateDocSelectOptions();
Â  }

Â  // 'ë‚´ë³´ë‚´ê¸°' ê¸°ëŠ¥ ì¶”ê°€
Â  function exportTableToClipboard() {
Â  Â  Â  const tableRows = tbody.querySelectorAll('tr:not(.blank-row)');
Â  Â  Â  let exportText = 'ìˆœë²ˆ\tí•œì\tìŒí›ˆ\tí•´ì„¤\n'; // í—¤ë” ì¶”ê°€

Â  Â  Â  tableRows.forEach(row => {
Â  Â  Â  Â  Â  const rowNumber = row.querySelector('.row-number').textContent;
Â  Â  Â  Â  Â  const hanja = row.querySelector('.hanja-editable').textContent.trim();
Â  Â  Â  Â  Â  const reading = row.querySelector('.reading-editable').textContent.trim();
Â  Â  Â  Â  Â  const desc = row.querySelector('.desc-editable').textContent.trim();
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  exportText += `${rowNumber}\t${hanja}\t${reading}\t${desc}\n`;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  navigator.clipboard.writeText(exportText)
Â  Â  Â  Â  Â  .then(() => {
Â  Â  Â  Â  Â  Â  Â  alert('í‘œ ë‚´ìš©ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  .catch(err => {
Â  Â  Â  Â  Â  Â  Â  console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
Â  Â  Â  Â  Â  Â  Â  alert('í´ë¦½ë³´ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
Â  Â  Â  Â  Â  });
Â  }

Â  // í•˜ë‹¨ í•œì ëª©ë¡ ìƒì„±
Â  function createHanjaList() {
Â  Â  Â  hanjaListDiv.innerHTML = '';
Â  Â  Â  for (const ch of hanja_100_chars) {
Â  Â  Â  Â  Â  const span = document.createElement('span');
Â  Â  Â  Â  Â  span.textContent = ch;
Â  Â  Â  Â  Â  hanjaListDiv.appendChild(span);
Â  Â  Â  }
Â  }

Â  // ì´ë²¤íŠ¸ ì—°ê²°
Â  btnLoad.addEventListener('click', loadDoc);
Â  btnExport.addEventListener('click', exportTableToClipboard); // 'ë‚´ë³´ë‚´ê¸°' ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°

Â  docSelect.addEventListener('change', () => {
Â  Â  // ë¬¸ì„œ ì„ íƒ ë“œë¡­ë‹¤ìš´ì´ ë³€ê²½ë  ë•Œ, ë§ˆì§€ë§‰ìœ¼ë¡œ ì„ íƒëœ ë¬¸ì„œë¥¼ ì €ì¥ë§Œ í•˜ê³  í™”ë©´ì„ ë¹„ìš°ì§€ ì•ŠìŒ
Â  Â  localStorage.setItem('lastActiveDocId', docSelect.value);
Â  });

Â  tbody.addEventListener('click', e => {
Â  Â  if(e.target.classList.contains('row-delete-btn')) {
Â  Â  Â  e.target.closest('tr').remove();
Â  Â  Â  highlightDuplicates();
Â  Â  Â  autoSave();
Â  Â  Â  updateRowNumbers();
Â  Â  }
Â  });

Â  // ìˆ˜ì • ì™„ë£Œ ì‹œ ì¤‘ë³µ ì²´í¬ ë° ì €ì¥
Â  tbody.addEventListener('blur', e => {
Â  Â  const row = e.target.closest('tr');
Â  Â  if (!row) return;

Â  Â  const hanjaDiv = e.target.closest('div.hanja-editable');
Â  Â  const currentRow = e.target.closest('tr');
Â  Â  const blankRow = tbody.querySelector('.blank-row');

Â  Â  // ë¹ˆ ì¤„ì˜ í•œì ì…ë ¥ ì¹¸ì—ì„œ í¬ì»¤ìŠ¤ë¥¼ ìƒê³ , 4ê¸€ìê°€ ì…ë ¥ë˜ì—ˆì„ ë•Œ
Â  Â  if (currentRow === blankRow && hanjaDiv && hanjaDiv.textContent.trim().length === 4) {
Â  Â  Â  Â  currentRow.classList.remove('blank-row');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const deleteButtonCell = currentRow.querySelector('td:last-child');
Â  Â  Â  Â  let btnDel = deleteButtonCell.querySelector('.row-delete-btn');
Â  Â  Â  Â  if (!btnDel) {
Â  Â  Â  Â  Â  Â  btnDel = document.createElement('button');
Â  Â  Â  Â  Â  Â  btnDel.textContent = 'ì§€ìš°ê¸°';
Â  Â  Â  Â  Â  Â  btnDel.classList.add('row-delete-btn');
Â  Â  Â  Â  Â  Â  deleteButtonCell.appendChild(btnDel);
Â  Â  Â  Â  }

Â  Â  Â  Â  addBlankRow();
Â  Â  Â  Â  highlightDuplicates();
Â  Â  Â  Â  autoSave();
Â  Â  Â  Â  updateRowNumbers();

Â  Â  Â  Â  const readingDivInSameRow = currentRow.querySelector('div.reading-editable');
Â  Â  Â  Â  if (readingDivInSameRow) {
Â  Â  Â  Â  Â  Â  readingDivInSameRow.focus();
Â  Â  Â  Â  }
Â  Â  } else {
Â  Â  Â  Â  // ê¸°ì¡´ í–‰ì˜ ê²½ìš°, ê·¸ëƒ¥ ì €ì¥í•˜ê³  ì¤‘ë³µ ì²´í¬
Â  Â  Â  Â  if (!currentRow.classList.contains('blank-row')) {
Â  Â  Â  Â  Â  Â  highlightDuplicates();
Â  Â  Â  Â  Â  Â  autoSave();
Â  Â  Â  Â  }
Â  Â  }
Â  }, true);

Â  // í™œì„± ì…€ ê°•ì¡° íš¨ê³¼
Â  tbody.addEventListener('focusin', e => {
Â  Â  Â  const currentActiveCell = tbody.querySelector('.active-cell');
Â  Â  Â  if (currentActiveCell) {
Â  Â  Â  Â  Â  currentActiveCell.classList.remove('active-cell');
Â  Â  Â  }
Â  Â  Â  const targetDiv = e.target.closest('div[contenteditable="true"]');
Â  Â  Â  if (targetDiv) {
Â  Â  Â  Â  Â  targetDiv.classList.add('active-cell');
Â  Â  Â  }
Â  });

Â  tbody.addEventListener('keydown', e => {
Â  Â  if (e.key === 'Enter' && e.target.closest('div[contenteditable="true"]')) {
Â  Â  Â  e.preventDefault();
Â  Â  Â Â 
Â  Â  Â  const targetElement = e.target;
Â  Â  Â  const currentRow = targetElement.closest('tr');
Â  Â  Â  const nextRow = currentRow.nextElementSibling;
Â  Â  Â  const blankRow = tbody.querySelector('.blank-row');
Â  Â  Â Â 
Â  Â  Â  const hanjaDiv = targetElement.closest('div.hanja-editable');
Â  Â  Â  const readingDiv = targetElement.closest('div.reading-editable');
Â  Â  Â  const descDiv = targetElement.closest('div.desc-editable');

Â  Â  Â  if (currentRow === blankRow) {
Â  Â  Â  Â  Â  if (hanjaDiv && hanjaDiv.textContent.trim().length === 4) {
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  currentRow.classList.remove('blank-row');
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  const deleteButtonCell = currentRow.querySelector('td:last-child');
Â  Â  Â  Â  Â  Â  Â  let btnDel = deleteButtonCell.querySelector('.row-delete-btn');
Â  Â  Â  Â  Â  Â  Â  if (!btnDel) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  btnDel = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  Â  btnDel.textContent = 'ì§€ìš°ê¸°';
Â  Â  Â  Â  Â  Â  Â  Â  Â  btnDel.classList.add('row-delete-btn');
Â  Â  Â  Â  Â  Â  Â  Â  Â  deleteButtonCell.appendChild(btnDel);
Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  addBlankRow();
Â  Â  Â  Â  Â  Â  Â  highlightDuplicates();
Â  Â  Â  Â  Â  Â  Â  autoSave();
Â  Â  Â  Â  Â  Â  Â  updateRowNumbers();
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  const readingDivInSameRow = currentRow.querySelector('div.reading-editable');
Â  Â  Â  Â  Â  Â  Â  if (readingDivInSameRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  readingDivInSameRow.focus();
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  alert('í•œì 4ê¸€ìë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.');
Â  Â  Â  Â  Â  }
Â  Â  Â  } else { // ê¸°ì¡´ í–‰ì—ì„œ ì—”í„° í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ
Â  Â  Â  Â  Â  if (hanjaDiv) {
Â  Â  Â  Â  Â  Â  Â  const readingDivInSameRow = currentRow.querySelector('div.reading-editable');
Â  Â  Â  Â  Â  Â  Â  if (readingDivInSameRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  readingDivInSameRow.focus();
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } else if (readingDiv) {
Â  Â  Â  Â  Â  Â  Â  const descDivInSameRow = currentRow.querySelector('div.desc-editable');
Â  Â  Â  Â  Â  Â  Â  if (descDivInSameRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  descDivInSameRow.focus();
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } else if (descDiv) {
Â  Â  Â  Â  Â  Â  Â  if (nextRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  nextRow.querySelector('div.hanja-editable').focus();
Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  if(blankRow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  blankRow.querySelector('div.hanja-editable').focus();
Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }
Â  });

Â  // ìŠ¤í¬ë¡¤ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
Â  scrollTopBtn.addEventListener('click', () => {
Â  Â  Â  window.scrollTo({ top: 0, behavior: 'smooth' });
Â  });

Â  scrollBottomBtn.addEventListener('click', () => {
Â  Â  Â  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
Â  });

Â  // Info modal event listeners
Â  btnInfo.addEventListener('click', () => {
Â  Â  Â  infoModal.style.display = 'block';
Â  });
Â  closeButton.addEventListener('click', () => {
Â  Â  Â  infoModal.style.display = 'none';
Â  });
Â  window.addEventListener('click', (event) => {
Â  Â  Â  if (event.target === infoModal) {
Â  Â  Â  Â  Â  infoModal.style.display = 'none';
Â  Â  Â  }
Â  });

Â  // ì´ˆê¸° ë¡œë“œ ì‹œ í•œì ëª©ë¡ ìƒì„± ë° ì²« ë¬¸ì„œ ë¶ˆëŸ¬ì˜¤ê¸° ì‹œë„
Â  window.addEventListener('load', () => {
Â  Â  createHanjaList();
Â  Â  initialLoadDoc();
Â  });
})();
</script>

</body>
</html>
